{"version":3,"file":"shelf-pack.min.js","sources":["../src/index.ts"],"sourcesContent":[null],"names":["Bin","constructor","id","x","y","w","h","maxw","maxh","refcount","this","Shelf","width","height","free","alloc","resize","options","opts","autoResize","shelves","freebins","stats","bins","maxId","pack","binsCopy","results","i","length","allocation","packOne","inPlace","bin","push","shrink","best","freebin","shelf","waste","Infinity","finalId","getBin","ref","allocFreebin","allocShelf","h1","h2","w1","w2","Math","max","index","splice","newBin","Error","j","unref","clear"],"mappings":"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"}